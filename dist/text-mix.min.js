/* text-mix - v0.2.0 - 2013-12-01 */
!function(a,b){"function"==typeof define&&define.amd?define(["levenshtein"],b):"object"==typeof exports?module.exports=b(require("levenshtein")):a.textMix=b(a.Levenshtein)}(this,function(a){"use strict";var b={isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)}},c=function(){},d="noop",e="sub",f="ins",g="del",h={},i=function(b,c){var d=b+" "+c;return h[d]||(h[d]=new a(b,c)),h[d]},j=function(a,b,c){var h,i=a[c][b],j=b,k=c,l=1/0,m=1/0,n=1/0;c>0&&(m=a[c-1][b]),b>0&&(n=a[c][b-1]),b>0&&c>0&&(l=a[c-1][b-1]);var o=Math.min(m,n,l);return 0===l||o>=l?(j=b-1,k=c-1,i>l?h=e:l===i&&(h=d)):0===n||o>=n?(h=f,j=b-1):(h=g,k=c-1),[o,h,j,k]},k=function(a,b,h){var k=i(a,b);if(0===k.distance)return a;var l,m=k.getMatrix(),n=m.length-1,o=m[0].length-1,p=b.split("");for(c("traverse",a,b,h),c(k.inspect());h--&&(o||n);){switch(l=j(m,o,n),c(".next","iterations:",h,"startX:",o,"startY:",n),c("..out:",l),o=l[2],n=l[3],l[1]){case d:++h;case e:p[n]=a[o];break;case f:p.splice(n,0,a[o]);break;case g:p.splice(o,1)}c("..ret:",p.join(""))}return p.join("")},l=function(a,b,c,d){var e=Math.max(a.length,b.length);return c>=a.length?b[c]:c>=b.length?a[c]:d*e>c?b[c]:a[c]},m=function(a,b,c){for(var d=a.length+Math.floor((b.length-a.length)*c),e="",f=0;d>f;f++)e+=l(a,b,f,c);return e},n=function(a,b,c){return Math.round(a+(b-a)*c)},o=function(a,c,d){for(var e,f,g=a.split(" "),h=c.split(" "),j=Math.max(g.length,h.length),l=[],o=0;j>o;o++)if(e=g[o],f=h[o],b.isNumeric(e)&&b.isNumeric(f))l.push(n(parseFloat(e),parseFloat(f),d));else if(e&&e.length&&f&&f.length){var p=i(e,f).distance;l.push(k(f,e,Math.round(d*p)))}else l.push(m(e||"",f||"",d));return l.join(" ")};return{traverse:k,stringMix:m,numberMix:n,textMix:o}});